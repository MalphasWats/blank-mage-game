#ifndef PLATFORM_H
# define PLATFORM_H

#define F_CPU 8000000

#define ever ;;

#define LOW 0
#define HIGH 1

#define TRUE 0xFF
#define FALSE 0x00

#define SND   0
#define SCL   1
#define SDA   2
#define DC    3

#define BTNS  2
#define BTN_DELAY       180
#define BTN_THRESHOLD   2

/* Button ADC Values */
#define _UP     695
#define _DOWN   852
#define _LEFT   930
#define _RIGHT  608
#define _A      512
#define _B      320
#define _C      252

#define SPLASH_DELAY    1500


typedef unsigned char byte;
typedef unsigned int word;

typedef struct point {
    byte x;
    byte y;
} point;

static const __flash byte LOGO[] = {
    0x00, 0x00, 0x04, 0x08, 0x18, 0x37, 0x3F, 0x0F,     0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,     // HAT (Top) 
    0x00, 0x00, 0x3F, 0x7E, 0x10, 0x38, 0x1C, 0x0E,     0x04, 0x02, 0x0E, 0x1C, 0x38, 0x10, 0x3F, 0x7E,     // M (Top)
    0x00, 0x00, 0x3F, 0x7E, 0x81, 0xC1, 0xC1, 0xC1,     0xC0, 0xC1, 0xC1, 0xC1, 0xC1, 0xC0, 0xBF, 0x7E,     // A
    0x00, 0x00, 0x3F, 0x7E, 0x80, 0xC0, 0xC0, 0xC0,     0xC0, 0xC1, 0xC1, 0xC1, 0xC1, 0xC0, 0x80, 0x00,     // G
    0x00, 0x00, 0x3F, 0x7E, 0x81, 0xC1, 0xC1, 0xC1,     0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0xC0, 0x80, 0x00,     // E    
        
    0x00, 0x38, 0x5C, 0x2C, 0xEC, 0xEC, 0xEC, 0xEC,     0xEC, 0xEC, 0x2C, 0x5C, 0x3C, 0x38, 0x00, 0x00,     // HAT (Bottom)  
    0x00, 0x00, 0x7C, 0xFE, 0x00, 0x00, 0x00, 0x00,     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0xFC,     // M
    0x00, 0x00, 0x7C, 0xFE, 0x80, 0x80, 0x80, 0x80,     0x80, 0x00, 0x80, 0x80, 0x80, 0x80, 0x7E, 0xFC,     // A
    0x00, 0x00, 0x7C, 0xFE, 0x01, 0x03, 0x03, 0x03,     0x03, 0x03, 0x83, 0x83, 0x83, 0x81, 0x7E, 0xFC,     // G
    0x00, 0x00, 0x7C, 0xFE, 0x01, 0x83, 0x83, 0x83,     0x83, 0x03, 0x03, 0x03, 0x03, 0x02, 0x00, 0x00,     // E
};

#define rngM 7919
#define rngA 17
#define rngC 3
word rng( void );


void delay_ms( word ms );
void delay_us( word us );


// http://www.oz4.us/2015/12/recoding-bare-millis-clock-on-avr.html
// https://github.com/sourceperl/millis/blob/master/millis.c
// https://www.avrfreaks.net/forum/tut-c-newbies-guide-avr-timers?page=all
void initialise( void );
word millis( void );

//https://github.com/SpenceKonde/ATTinyCore/blob/master/avr/cores/tiny/wiring_analog.c
//http://www.technoblogy.com/show?TWD
word read_buttons();

#endif